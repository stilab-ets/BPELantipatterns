<!-- HTTPPostService BPEL Process [Generated by the Oracle BPEL Designer] -->
<process name="HTTPPostService" targetNamespace="http://services.otn.com" 
       suppressJoinFailure="yes" xmlns:tns="http://services.otn.com" 
       xmlns="http://schemas.xmlsoap.org/ws/2003/03/business-process/" 
       xmlns:bpelx="http://schemas.oracle.com/bpel/extension" 
       xmlns:ora="http://schemas.oracle.com/xpath/extension" 
       xmlns:bpws="http://schemas.xmlsoap.org/ws/2003/03/business-process/">
	<!-- ================================================================= -->
	<!-- PARTNERLINKS                                                      -->
	<!-- List of services participating in this BPEL process               -->
	<!-- ================================================================= -->
	<partnerLinks>
		<!-- The 'client' role represents the requester of this service. -->
		<partnerLink name="client" partnerLinkType="tns:HTTPPostService" myRole="HTTPPostServiceProvider"/>
	</partnerLinks>
	<!-- ================================================================= -->
	<!-- VARIABLES                                                         -->
	<!-- List of messages and XML documents used within this BPEL process  -->
	<!-- ================================================================= -->
	<variables>
		<!-- Reference to the message passed as input during initiation -->
		<variable name="input" messageType="tns:HTTPPostServiceRequestMessage"/>
		<!-- 
          Reference to the message that will be returned to the requester
          -->
		<variable name="output" messageType="tns:HTTPPostServiceResponseMessage"/>
	</variables>
	<!-- ================================================================= -->
	<!-- ORCHESTRATION LOGIC                                               -->
	<!-- Set of activities coordinating the flow of messages across the    -->
	<!-- services integrated within this business process                  -->
	<!-- ================================================================= -->
	<sequence name="main">
		<!-- Receive input from requester. 
             Note: This maps to operation defined in HTTPPostService.wsdl 
             -->
		<receive name="receiveInput" partnerLink="client" portType="tns:HTTPPostService" operation="process" variable="input" createInstance="yes"/>
		<!-- Generate reply to synchronous request -->
		<assign name="assignResult"><copy>
				<from expression="concat(bpws:getVariableData('input', 'payload', '/tns:HTTPPostServiceRequest/tns:ssn'), ',', bpws:getVariableData('input', 'payload', '/tns:HTTPPostServiceRequest/tns:id'))">
				</from>
				<to variable="output" part="payload" query="/tns:HTTPPostServiceResponse/tns:result"/>
			</copy>
		</assign>
		<reply name="replyOutput" partnerLink="client" portType="tns:HTTPPostService" operation="process" variable="output"/>
	</sequence>
</process>
